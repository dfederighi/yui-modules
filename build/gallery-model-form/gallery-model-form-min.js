YUI.add("gallery-model-form",function(e,t){e.ModelForm=e.Base.create("model-form",e.Widget,[],{initializer:function(t){this._fields=[],this._eventHandles=[],this._formValues=t.values,this.model=new e.Model({testText:"",testText2:"",testSelect:"",testCheckbox:!1,testSwitch:0}),this.model.on("change",this._handleModelChange,this),this.after("render",e.bind(this._afterRender,this))},_afterRender:function(){this.get("contentBox").setHTML(e.Node.create(this.get("markup"))),this._parseFields()},getField:function(e){return this._fields[e]},_handleModelChange:function(t){if(t.src==="form")return;e.Object.each(t.changed,function(t,n){var r=this.getField(n);e.Lang.isUndefined(r)||r.set("value",t.newVal)},this)},_parseFields:function(){var t=this.get("boundingBox").one("form").all("*");t.each(function(e){var t=e.get("nodeName"),n=e.get("type");t==="INPUT"?(n==="text"?e.after("keyup",function(t){this.model.set(e.get("name"),t.target.get("value"),{src:"form"})},this):n==="checkbox"?e.after("click",function(t){this.model.set(e.get("name"),t.target.get("checked"),{src:"form"})},this):n==="radio"&&e.on("change",function(t){this.model.set(e.get("name"),t.target.get("value"),{src:"form"})},this),this._fields[e.get("name")]=e):t==="SELECT"&&(e.after("change",function(t){this.model.set(e.get("name"),t.target.get("value"),{src:"form"})},this),this._fields[e.get("name")]=e)},this),e.Object.isEmpty(this._formValues)||this.model.setAttrs(this._formValues)}},{ATTRS:{markup:{value:""}}})},"@VERSION@",{requires:["yui-base","node","event","model"]});
